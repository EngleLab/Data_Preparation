[
["index.html", "EngleLab: Data Preparation Introduction", " EngleLab: Data Preparation Jason Tsukahara Introduction At some point you will need to start analyzing the data. However, you first need to prepare the data so that it is ready to analyze. There are several steps in this processs and it can be quite tedious. There are two scenarios in which you may need to start processing and analyzing data: Before data collection has finished After data collection has finished For both of these scenarios, there are 4 data preparation steps: Organize the raw data files. This involves moving the raw .edat files from Tasks/Session #/#. Task/data to Data Files/edat/Task/. Merge the individual .edat files into a single task.emrg file using E-Merge Export the task.emrg file to a task.txt file so we can process the data in R Source the 0_task_raw.R Scripts All the data files related to the study will be in the Data Collection folder at: Dropbox (GaTech) / EngleLab / Studies / [StudyName] "],
["organize-raw-files.html", "1 Organize Raw Files 1.1 Steps: Before Finishing Data Collection 1.2 Steps: After Data Collection Has Finished", " 1 Organize Raw Files The Four Data Preparation Steps Organize the raw data files. This involves moving the raw .edat files from Tasks/Session #/#. Task/data to Data Files/edat/Task/. Merge the individual .edat files into a single task.emrg file using E-Merge Export the task.emrg file to a task.txt file so we can process the data in R Source the 0_task_raw.R Scripts The first step in data preparation is just about organizing the raw data files so that we can more easily merge the data files using E-Merge. This document shows you how to perform step 1 using a convenient function in R (instead of doing it manually) To perform this first step, you can use the copy_raw() function from the workflow package I developed. 1.1 Steps: Before Finishing Data Collection In situations where data collection has not finished, you do not need to worry about removing subjects that did not complete all sessions. And this organization is more temporary so we will want to just copy/paste the files, not remove them. Open the research study’s RProject file (.Rproj) located at: Dropbox (GaTech) / EngleLab / Studies / [StudyName] / [StudyName].Rproj Do not open RStudio by clicking on the Program Application in the taskbar Copy and Paste the line of code into the Console window workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/subj&quot;, filetype = &quot;.edat&quot;) Repeat Step 2 for each Session folder changing it from Session 1 to Session 2, etc. If there is eye-tracking data copy and paste the three lines of code into the Console window workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/Eye-Tracking&quot;, filetype = &quot;.idf&quot;, ext = &quot;idf&quot;) workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/Eye-Tracking&quot;, filetype = &quot;AccuracyImage&quot;, ext = &quot;idf&quot;) workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/Eye-Tracking&quot;, filetype = &quot;TrackingMonitorImage&quot;, ext = &quot;idf&quot;) Repeat Step 4 for each Sessin folder. Changing it from Session 1 to Session 2, etc. 1.2 Steps: After Data Collection Has Finished In situations where data collection has finished, you will need to separate files for subjects that did complete all Sessions and subjects that did not. We need to create a certain file before we use workflow::copy_raw(). This file only contains a column of Subject #’s that completed all sessions. I suggest creating this file based on the Database on the Control Room Computer. Put the Subject #’s in an Excel document and save it as a comma separated value file, subjlist_final.csv to Data Files/ Open the research study’s RProject file (.Rproj) Do not open RStudio by clicking on the Program Application Copy and Paste the line of code into the Console window workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/subj&quot;, filetype = &quot;.edat&quot;, remove = TRUE, subj.file = &quot;Data Files/subjlist_final.csv&quot;) Repeat Step 2 for each Session folder changing it from Session 1 to Session 2, etc. If there is eye-tracking data copy and paste the three lines of code into the Console window workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/Eye-Tracking&quot;, filetype = &quot;.idf&quot;, ext = &quot;idf&quot;, remove = TRUE, subj.file = &quot;Data Files/subjlist_final.csv&quot;) workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/Eye-Tracking&quot;, filetype = &quot;AccuracyImage&quot;, ext = &quot;idf&quot;, remove = TRUE, subj.file = &quot;Data Files/subjlist_final.csv&quot;) workflow::copy_raw(from = &quot;Tasks/Session 1&quot;, to = &quot;Data Files/Eye-Tracking&quot;, filetype = &quot;TrackingMonitorImage&quot;, ext = &quot;idf&quot;, remove = TRUE, subj.file = &quot;Data Files/subjlist_final.csv&quot;) Repeat Step 4 for each Sessin folder. Changing it from Session 1 to Session 2, etc. "],
["merge.html", "2 Merge", " 2 Merge The Four Data Preparation Steps Organize the raw data files. This involves moving the raw .edat files from Tasks/Session #/#. Task/data to Data Files/edat/Task/. Merge the individual .edat files into a single task.emrg file using E-Merge Export the task.emrg file to a task.txt file so we can process the data in R Source the 0_task_raw.R Scripts E-Prime will create an .edat data file for each subject per task. This results in a lot of separate individual files. We need to merge these files together so that we have one merged file per task. We can use the E-Merge software program to do so. The second step in data preparation is to merge the individual .edat files into a single .emrg file. The .edat data files are located in the directory: Data Files/edat/[Task Name] You need to save the merged data files in the directory: Data Files/E-Merge Open E-Merge 3.0 by clicking on the icon in the taskbar. In the left window pane, navigate to the directory: Dropbox (GaTech) / EngleLab / Studies / [StudyName] / Data Files / edat Click on the [Task Name] folder. This should populate the right window pane with .edat files Select all the files (Hold down the SHIFT key to highlight over multiple files) Click on Merge in the toolbar above Select Standard Merge Save the new merged data file to Dropbox (GaTech) / EngleLab / Studies / [StudyName] / Data Files / Merged with the same name as the [Task Name] folder It will ask you if you are sure you want to create this new file. Select Yes Get a Graduate Student or PostDoc if an error message occurs Move on to the next [Task Name] folder The directory tree in the left window pane may have disappeared. To make it reappear, adjust the horizontal size of the window panes by moving your mouse cursor to the divider between the left and right window panes. "],
["export.html", "3 Export", " 3 Export The Four Data Preparation Steps Organize the raw data files. This involves moving the raw .edat files from Tasks/Session #/#. Task/data to Data Files/edat/Task/. Merge the individual .edat files into a single task.emrg file using E-Merge Export the task.emrg file to a task.txt file so we can process the data in R Source the 0_task_raw.R Scripts The third step in the data preparation stage is to Export the .emrg to a .txt file so it can be imported into R. This step is real easy: Open an E-Merged data file in Dropbox (GaTech) / EngleLab / Studies / [StudyName] / Data Files / Merged Go to File -&gt; Export… Change the following options Unicode: Uncheck Select Okay Save to the same location as the E-Merged data file: Data Files/Merged Save with the same filename as the E-Merge file "],
["source-r-scripts.html", "4 Source R Scripts 4.1 Steps", " 4 Source R Scripts The Four Data Preparation Steps Organize the raw data files. This involves moving the raw .edat files from Tasks/Session #/#. Task/data to Data Files/edat/Task/. Merge the individual .edat files into a single task.emrg file using E-Merge Export the task.emrg file to a task.txt file so we can process the data in R Source the 0_task_raw.R Scripts The final data preparation step is to Source the 0_task_raw.R scripts. These scripts convert the messy task.txt files to tidy task_raw.csv files. 4.1 Steps The masterscript should be created already, if not then get a graduate student to help out (Jason Tsukahara) Open the research study’s RProject file (.Rproj) located at: Dropbox (GaTech) / EngleLab / Studies / [StudyName] / [StudyName].Rproj Do not open RStudio by clicking on the Program Application in the taskbar Open the file masterscript.R Use the File Window pane in RStudio (in the bottom right corner to open script files) Run the lines of code in the masterscript that start with source() by clicking anywhere on the first line of code and press Ctrl+Enter Make sure no error messages occur (these will be printed in the console window). Warning messages are okay. The Environment window should also say “Environment is empty” Repeat Steps 3 and 4 for each source() line of code. There should now be a **_raw.csv** file for each task located in the Data Files folder "],
["pupil-data.html", "5 Pupil Data 5.1 Using BeGaze", " 5 Pupil Data There are a few extra Data Preparation steps required for pupil data. After completing Step 1 of data preparation follow these instructions. These instructions replace Steps 2 and 3. The eyetracker will create several data files that we need to import into BeGaze analysis software and export as a .txt file. The following data files are created by the eyetracker .idf - this file contains the actual gaze and pupil data AccuracyImage.bmp - An image file TrackingMonitorImage.bmp - An image file .idf_images - These files will look like folders. We do not need to import these files These files are located in the directory: Data Files/Eye-Tracking/[Task Name]/idf We will export the raw sample.txt files to: Data Files/Eye-Tracking/[Task Name] 5.1 Using BeGaze Open data files in BeGaze File -&gt; Manual Experiment Creation Experiment Name: PupilData Go to the Gaze Data tab: Add files… -&gt; Sort by Data -&gt; select the .idf files you want (not .idf_images) -&gt; Open Check if any subject files have a different recording frequency (Hz) or different calibration screen resolution (e.g. [860,720]) -Select those subject files and click “Remove Files” On the computer in the idf folder, move all the files associated with those subjects to a “recording error” folder: Data Files/Eye-Tracking/[Task Name]/idf/recording error Check that all subjects have the same recording frequency (Hz) and calibration screen resolution. Go to Stimulus Images tab: Add Files… -&gt; Sort by Date -&gt; select the AccuracyImage.bmp and TrackingMonitorIMage.bmp files you want (not .idf_images) Go to Event Detection tab: Set Event Detection to: High Speed Set the following parameters: 22 40% 50 ms 20% 80% Select Create Experiment Convert .idf files to .txt files Export -&gt; Legacy: Export Raw Data to File… The following fields should be selected (Fields with an * are the most important) Raw Data: Pupil Diameter Pupil Diameter [mm] * Channel: Left Eye * Right Eye * Points of Regard (POR): Gaze Position * Quality Values Eye Position Gaze Vector Misc. Data: Messages * Event Info * Stimulus Stimulus Conditions Select Details tab Select Write header Decimal places: 4 Separator: Tab Export Location: NEEDS TO BE SPECIFIED!! Browse: Data Files/Eye-Tracking/[Task Name] Select Single file output Select Export Go to File -&gt; Close Experiment Got to File -&gt; Delete Experiment from Data Base Delete PupilData Experiment "]
]
