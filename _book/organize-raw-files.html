<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>1 Organize Raw Files | EngleLab: Data Preparation</title>
  <meta name="description" content="This is a useR Guide for the EngleLab">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="1 Organize Raw Files | EngleLab: Data Preparation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a useR Guide for the EngleLab" />
  <meta name="github-repo" content="EngleLab" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Organize Raw Files | EngleLab: Data Preparation" />
  
  <meta name="twitter:description" content="This is a useR Guide for the EngleLab" />
  

<meta name="author" content="Jason Tsukahara">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="merge.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EngleLab Data Preparation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="organize-raw-files.html"><a href="organize-raw-files.html"><i class="fa fa-check"></i><b>1</b> Organize Raw Files</a><ul>
<li class="chapter" data-level="1.1" data-path="organize-raw-files.html"><a href="organize-raw-files.html#steps-before-finishing-data-collection"><i class="fa fa-check"></i><b>1.1</b> Steps: Before Finishing Data Collection</a></li>
<li class="chapter" data-level="1.2" data-path="organize-raw-files.html"><a href="organize-raw-files.html#steps-after-data-collection-has-finished"><i class="fa fa-check"></i><b>1.2</b> Steps: After Data Collection Has Finished</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="merge.html"><a href="merge.html"><i class="fa fa-check"></i><b>2</b> Merge</a></li>
<li class="chapter" data-level="3" data-path="export.html"><a href="export.html"><i class="fa fa-check"></i><b>3</b> Export</a></li>
<li class="chapter" data-level="4" data-path="source-r-scripts.html"><a href="source-r-scripts.html"><i class="fa fa-check"></i><b>4</b> Source R Scripts</a><ul>
<li class="chapter" data-level="4.1" data-path="source-r-scripts.html"><a href="source-r-scripts.html#steps"><i class="fa fa-check"></i><b>4.1</b> Steps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pupil-data.html"><a href="pupil-data.html"><i class="fa fa-check"></i><b>5</b> Pupil Data</a><ul>
<li class="chapter" data-level="5.1" data-path="pupil-data.html"><a href="pupil-data.html#using-begaze"><i class="fa fa-check"></i><b>5.1</b> Using BeGaze</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://englelab.gatech.edu/labuser" target="blank">Lab User</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EngleLab: Data Preparation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="organize-raw-files" class="section level1">
<h1><span class="header-section-number">1</span> Organize Raw Files</h1>
<hr />
<p>The Four Data Preparation Steps</p>
<ol style="list-style-type: decimal">
<li><p><strong>Organize the raw data files</strong>. This involves moving the raw <em>.edat</em> files from <em>Tasks/Session #/#. Task/data</em> to <em>Data Files/edat/Task/</em>.</p></li>
<li><p><strong>Merge</strong> the individual <em>.edat</em> files into a single <strong>task.emrg</strong> file using <em>E-Merge</em></p></li>
<li><p><strong>Export</strong> the <strong>task.emrg</strong> file to a <strong>task.txt</strong> file so we can process the data in <strong>R</strong></p></li>
<li><p><strong>Source</strong> the <strong>0_task_raw.R</strong> <em>Scripts</em></p></li>
</ol>
<hr />
<p>The first step in data preparation is just about organizing the raw data files so that we can more easily merge the data files using E-Merge.</p>
<p>This document shows you how to perform step 1 using a convenient function in R (instead of doing it manually)</p>
<p>To perform this first step, you can use the <code>copy_raw()</code> function from the <code>workflow</code> package I developed.</p>
<div id="steps-before-finishing-data-collection" class="section level2">
<h2><span class="header-section-number">1.1</span> Steps: Before Finishing Data Collection</h2>
<p>In situations where data collection has not finished, you do not need to worry about removing subjects that did not complete all sessions. And this organization is more temporary so we will want to just copy/paste the files, not remove them.</p>
<ol style="list-style-type: decimal">
<li><p>Open the research study’s RProject file (<strong>.Rproj</strong>) located at:</p>
<p><strong>Dropbox (GaTech) / EngleLab / Studies / [StudyName] / [StudyName].Rproj</strong></p>
<p>Do not open RStudio by clicking on the Program Application in the taskbar</p></li>
<li><p>Copy and Paste the line of code into the Console window</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/subj&quot;</span>, 
                   <span class="dt">filetype =</span> <span class="st">&quot;.edat&quot;</span>)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Repeat Step 2 for each Session folder changing it from Session 1 to Session 2, etc.</p></li>
<li><p>If there is eye-tracking data copy and paste the three lines of code into the Console window</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/Eye-Tracking&quot;</span>, 
                   <span class="dt">filetype =</span> <span class="st">&quot;.idf&quot;</span>, <span class="dt">ext =</span> <span class="st">&quot;idf&quot;</span>)

workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/Eye-Tracking&quot;</span>,
                   <span class="dt">filetype =</span> <span class="st">&quot;AccuracyImage&quot;</span>, <span class="dt">ext =</span> <span class="st">&quot;idf&quot;</span>)

workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/Eye-Tracking&quot;</span>,
                   <span class="dt">filetype =</span> <span class="st">&quot;TrackingMonitorImage&quot;</span>, <span class="dt">ext =</span> <span class="st">&quot;idf&quot;</span>)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Repeat Step 4 for each Sessin folder. Changing it from Session 1 to Session 2, etc.</li>
</ol>
<hr />
</div>
<div id="steps-after-data-collection-has-finished" class="section level2">
<h2><span class="header-section-number">1.2</span> Steps: After Data Collection Has Finished</h2>
<p>In situations where data collection has finished, you will need to separate files for subjects that did complete all Sessions and subjects that did not.</p>
<ol style="list-style-type: decimal">
<li><p>We need to create a certain file before we use <code>workflow::copy_raw()</code>. This file only contains a column of <strong>Subject #’s</strong> that completed all sessions. I suggest creating this file based on the <strong>Database</strong> on the Control Room Computer. Put the Subject #’s in an Excel document and save it as a comma separated value file, <strong>subjlist_final.csv</strong> to <strong>Data Files/</strong></p></li>
<li><p>Open the research study’s RProject file (<strong>.Rproj</strong>)</p>
<p>Do not open RStudio by clicking on the Program Application</p></li>
<li><p>Copy and Paste the line of code into the Console window</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/subj&quot;</span>, 
                   <span class="dt">filetype =</span> <span class="st">&quot;.edat&quot;</span>, <span class="dt">remove =</span> <span class="ot">TRUE</span>, 
                   <span class="dt">subj.file =</span> <span class="st">&quot;Data Files/subjlist_final.csv&quot;</span>)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><p>Repeat Step 2 for each Session folder changing it from Session 1 to Session 2, etc.</p></li>
<li><p>If there is eye-tracking data copy and paste the three lines of code into the Console window</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/Eye-Tracking&quot;</span>, 
                   <span class="dt">filetype =</span> <span class="st">&quot;.idf&quot;</span>, <span class="dt">ext =</span> <span class="st">&quot;idf&quot;</span>, <span class="dt">remove =</span> <span class="ot">TRUE</span>, 
                   <span class="dt">subj.file =</span> <span class="st">&quot;Data Files/subjlist_final.csv&quot;</span>)

workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/Eye-Tracking&quot;</span>,
                   <span class="dt">filetype =</span> <span class="st">&quot;AccuracyImage&quot;</span>, <span class="dt">ext =</span> <span class="st">&quot;idf&quot;</span>, <span class="dt">remove =</span> <span class="ot">TRUE</span>, 
                   <span class="dt">subj.file =</span> <span class="st">&quot;Data Files/subjlist_final.csv&quot;</span>)

workflow<span class="op">::</span><span class="kw">copy_raw</span>(<span class="dt">from =</span> <span class="st">&quot;Tasks/Session 1&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;Data Files/Eye-Tracking&quot;</span>,
                   <span class="dt">filetype =</span> <span class="st">&quot;TrackingMonitorImage&quot;</span>, <span class="dt">ext =</span> <span class="st">&quot;idf&quot;</span>, <span class="dt">remove =</span> <span class="ot">TRUE</span>, 
                   <span class="dt">subj.file =</span> <span class="st">&quot;Data Files/subjlist_final.csv&quot;</span>)</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Repeat Step 4 for each Sessin folder. Changing it from Session 1 to Session 2, etc.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="merge.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "github"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
